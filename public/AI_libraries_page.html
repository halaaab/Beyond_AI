<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>مكتبة أدوات الذكاء الاصطناعي</title>
    <link rel="icon" type="image/png" href="images/markblue.png" />
    <link rel="stylesheet" href="header-footer.css">
    <link rel="apple-touch-icon" href="images/markblue.png" />
    <link rel="shortcut icon" href="images/markblue.png" />
    <link rel="stylesheet" href="header-footer.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <style>
      @font-face {
        font-family: "Lyon Arabic";
        src: url("Fonts/COMM - Lyon Arabic Display Regular.otf")
          format("opentype");
        font-weight: 400;
      }
      @font-face {
        font-family: "Lyon Arabic";
        src: url("Fonts/COMM - Lyon Arabic Display Regular.otf")
          format("opentype");
        font-weight: 500;
      }
      @font-face {
        font-family: "Lyon Arabic";
        src: url("Fonts/COMM - Lyon Arabic Display Light.otf")
          format("opentype");
        font-weight: 300;
      }
      @font-face {
        font-family: "Lyon Arabic";
        src: url("Fonts/COMM - Lyon Arabic Display Regular.otf")
          format("opentype");
        font-weight: 700;
      }

      :root {
        --primary: #2563eb;
        --primary-light: #bfdbfe;
        --primary-dark: #1d4ed8;
        --accent: #0ea5e9;
        --accent-light: #bae6fd;
        --dark: #0f172a;
        --light: #f9fafb;
        --gray: #6b7280;
        --gray-light: #e5e7eb;
        --success: #16a34a;

        --gradient-1: linear-gradient(135deg, #e0f2fe 0%, #f9fafb 100%);
        --gradient-2: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
        --gradient-3: linear-gradient(135deg, #1d4ed8 0%, #38bdf8 100%);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Lyon Arabic", sans-serif;
        min-height: 100vh;
        line-height: 1.6;
        overflow-x: hidden;
        color: var(--dark);
        background-color: #f2f8ff;
        background-image: url("images/back.png");
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
      }

      .about-us-intro {
        text-align: center;
        padding: 70px 20px 10px;
      }

      .about-us-logo {
        margin-bottom: 1.5rem;
      }

      .about-us-logo img {
        width: 140px;
        height: 140px;
        filter: drop-shadow(0 20px 40px rgba(96, 165, 250, 0.35));
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .wrap {
        max-width: 1200px;
        margin: 0 auto 80px;
        padding: 30px 24px 40px;
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(30px) saturate(160%);
        -webkit-backdrop-filter: blur(30px) saturate(160%);
        border-radius: 28px;
        border: 1px solid rgba(255, 255, 255, 0.35);
        box-shadow: 0 24px 60px rgba(15, 23, 42, 0.18);
      }

      h1 {
        margin: 0 auto 18px;
        text-align: center;
        font-size: clamp(2rem, 5vw, 3rem);
        font-weight: 600;
        background: linear-gradient(135deg, #1e3a8a, #2563eb);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .heading-line {
        height: 1px;
        width: min(100%, 900px);
        margin: 0 auto 24px;
        background: rgba(96, 165, 250, 0.35);
      }

      .filters {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 10px;
        width: 100%;
        padding: 8px 0 16px;
        direction: rtl;
        margin: 0 0 18px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .pill {
        font-family: "Lyon Arabic", sans-serif;
        font-weight: 500;
        font-size: 16px;
        min-width: 118px;
        height: 38px;
        line-height: 38px;
        padding: 0 21px;
        border: 1.5px solid rgba(96, 165, 250, 0.5);
        border-radius: 25px;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(10px);
        color: #0f172a;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .pill::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(96, 165, 250, 0.1);
        transform: scale(0);
        transition: transform 0.3s ease;
        border-radius: 25px;
        z-index: -1;
      }

      .pill:hover::before {
        transform: scale(1);
      }

      .pill:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(96, 165, 250, 0.25);
        border-color: var(--primary);
      }

      .pill.active {
        color: #fff;
        border-color: transparent;
        background: linear-gradient(90deg, var(--primary), var(--accent));
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(96, 165, 250, 0.35);
      }

      .pill.active::before {
        display: none;
      }

      .loading {
        display: none;
        text-align: center;
        margin: 8px 0 14px;
        color: var(--primary-dark);
        font-weight: 600;
        letter-spacing: 0.3px;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 26px;
        margin-top: 6px;
        align-items: stretch;
        transition: opacity 180ms ease, transform 180ms ease;
      }

      @media (max-width: 1100px) {
        .grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      @media (max-width: 720px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }

      .grid.fading {
        opacity: 0;
        transform: translateY(6px);
      }

      .grid .card {
        background: rgba(255, 255, 255, 0.16) !important;
        backdrop-filter: blur(25px) saturate(160%);
        -webkit-backdrop-filter: blur(25px) saturate(160%);
        border-radius: 22px;
        border: 1px solid rgba(255, 255, 255, 0.4);
        min-height: 380px;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        cursor: pointer;
        transform-origin: center;
        direction: rtl;
        box-shadow: 0 18px 50px rgba(15, 23, 42, 0.18);
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease, background 0.3s ease;
      }

      .grid .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-2);
        opacity: 0.9;
        transform: scaleX(0);
        transform-origin: right;
        transition: transform 0.3s ease;
      }

      .grid .card:hover::before {
        transform: scaleX(1);
      }

      .grid .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 24px 60px rgba(15, 23, 42, 0.25);
        border-color: rgba(191, 219, 254, 0.9);
        background: rgba(255, 255, 255, 0.24);
      }

      .grid .card.hidden {
        display: none;
      }

      .card .soon {
        position: absolute;
        top: 45%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: var(--primary);
        font-weight: 700;
        font-size: 18px;
      }

      .card-content {
        display: flex;
        flex-direction: column;
        gap: 0;
        padding: 24px 18px 18px;
        text-align: center;
        direction: rtl;
        color: var(--dark);
        flex: 1;
        align-items: center;
        justify-content: flex-start;
      }

      .card .top-section {
        display: flex;
        flex-direction: column;
        gap: 14px;
        width: 100%;
        align-items: center;
        margin-bottom: 16px;
      }

      .card .tool-logo {
        max-width: 170px;
        max-height: 120px;
        width: auto;
        height: auto;
        object-fit: contain;
        display: block;
        margin: 0 auto;
      }

      .card .divider {
        width: 100%;
        height: 1px;
        background: #d1d5db;
      }

      .card .middle-section {
        flex: 1;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        width: 100%;
        padding-top: 6px;
        padding-bottom: 14px;
      }

      .card .middle-section:empty {
        flex: 0;
        padding: 0;
        margin-bottom: 12px;
      }

      .card .description {
        font-size: 15px;
        line-height: 1.75;
        color: #1e293b;
        word-wrap: break-word;
        overflow-wrap: break-word;
        hyphens: auto;
        text-align: right;
        width: 100%;
        margin: 0;
        padding: 0 4px;
      }

      .card .bottom-section {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        padding-bottom: 4px;
      }

      .card .card-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        color: #2563eb;
        text-decoration: none;
        border-bottom: 1.5px solid #2563eb;
        font-weight: 500;
        font-size: 14px;
        padding-bottom: 1px;
        transition: all 0.3s ease;
      }

      .card .card-link:hover {
        color: #1d4ed8;
        border-bottom-color: #1d4ed8;
      }

      .card .card-link::before {
        content: "↖";
        font-size: 16px;
        color: #2563eb;
        transition: transform 0.3s ease;
      }

      .card .card-link:hover::before {
        transform: translate(2px, -2px);
      }

      .card__bar {
        margin-top: auto;
        width: 100%;
      }

      .card__bar span {
        display: block;
        width: 100%;
        text-align: center;
        color: #ffffff;
        font-weight: 600;
        font-size: 16px;
        height: 52px;
        line-height: 52px;
        margin: 0;
        padding: 0 18px;
        border-radius: 0 0 22px 22px;
        background: var(--gradient-3);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    </style>
  </head>
  <body>
    <header class="topbar">
      <div class="topbar-row">
        <input type="checkbox" id="nav-toggle" class="nav-toggle" />
        <label for="nav-toggle" class="hamburger">☰</label>

        <nav class="nav">
          <a href="index.html" >الصفحة الرئيسية</a>
          <a href="InitiativePrograms.html">برامج المبــادرة</a>
          <a href="AI_libraries_page.html" class="active">مكتبة أدوات الذكاء الاصطناعي</a>
          <a href="Who_We_Are.html">من نحن</a>
          <a href="Contact_Us.html">تواصل معنا</a>
        </nav>

        <form class="search" id="searchForm">
          <input type="search" id="searchInput" placeholder="عن ماذا تبحث؟" />
          <button type="submit"><i class="fas fa-search"></i></button>
        </form>

        <div class="brand">
          <img src="images/HeaderLogo.png" alt="الشعار" class="logo" />
        </div>
      </div>
    </header>

    <section class="about-us-intro">
      <div class="about-us-logo">
        <img src="images/logo.png" alt="Beyond AI" />
      </div>
    </section>

    <main class="wrap">
      <h1>مكتبة أدوات الذكاء الاصطناعي</h1>
      <div class="heading-line"></div>

      <div class="filters" role="tablist" aria-label="فلاتر الأقسام">
        <button class="pill active" role="tab" data-specialty="medicine">
          الطب
        </button>
        <button
          class="pill"
          role="tab"
          data-specialty="business_administration"
        >
          إدارة الأعمال
        </button>
        <button class="pill" role="tab" data-specialty="architecture">
          العمارة والتخطيط
        </button>
        <button class="pill" role="tab" data-specialty="computer_science">
          تقنية المعلومات
        </button>
        <button class="pill" role="tab" data-specialty="pharmacy">
          الصيدلة
        </button>
        <button class="pill" role="tab" data-specialty="law">القانون</button>
        <button class="pill" role="tab" data-specialty="media">الإعلام</button>
      </div>

      <div id="loading" class="loading" aria-live="polite">
        جارٍ تحميل الأدوات...
      </div>

      <section class="grid" aria-live="polite">
      </section>
    </main>

    <footer class="footer fade-in" id="footer">
      <div class="footer-inner">
        <div class="footer-col">
          <h3 class="footer-title">مبادرة Beyond AI</h3>
          <p class="footer-about-desc">
            مبادرة Beyond AI هي مبادرة مجتمعية  تابعة لمركز الدراسات المتقدمة في الذكاء الاصطناعي ( ذكاء ) في جامعة الملك سعود يقودها أكثر من ٩٠ طالبًا وطالبة من نخبة الجامعات السعودية،
            وتهدف إلى تمكين الطلبة من مختلف المستويات الدراسية الجامعية ومن مختلف التخصصات
            من فهم الذكاء الاصطناعي وتوظيفه في مساراتهم الأكاديمية والمهنية.
          </p>
        </div>

        <div class="footer-col">
          <h3 class="footer-title">روابط سريعة</h3>
          <ul class="footer-links">
            <li><a href="index.html">الصفحة الرئيسية</a></li>
            <li><a href="WeeklyParagraphs.html">برامـج المبــادرة</a></li>
            <li><a href="AI_libraries_page.html">مكتبة أدوات الذكاء الاصطناعي</a></li>
            <li><a href="Who_We_Are.html">من نحن</a></li>
            <li><a href="Contact_Us.html">تواصل معنا</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h3 class="footer-title">معلومات التواصل</h3>
          <ul class="footer-contact">
            <li>
              <div class="footer-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <span class="nowrap">ThakaaBeyond@ksu.edu.sa</span>
            </li>
            <li>
              <div class="footer-icon">
                <i class="fas fa-phone"></i>
              </div>
              <span class="nowrap" dir="ltr">+966539066133</span>
            </li>
            <li>
              <div class="footer-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <span>مركز الدراسات المتقدمة في الذكاء الاصطناعي (ذكاء) – جامعة الملك سعود</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        />

        <div class="footer-social">
          <a href="https://www.linkedin.com/showcase/thakaabeyond/" aria-label="LinkedIn" title="LinkedIn">
            <i class="fab fa-linkedin-in"></i>
          </a>
          <a href="https://x.com/thakaa_beyond?s=21&t=vdTFnpnktDr0FShuBiqZ_g" aria-label="X" title="X">
            <i class="fa-brands fa-x-twitter"></i>
          </a>
          <a href="https://www.tiktok.com/@thakaa_beyond?_t=zs-8zjfwuzngmz&_r=1" aria-label="TikTok" title="TikTok">
            <i class="fab fa-tiktok"></i>
          </a>
        </div>

        <div class="footer-bottom-text">
          جميع الحقوق محفوظة لمبادرة <span style="color:#2563eb; font-weight:700;">Beyond AI</span> – مركز الدراسات المتقدمة في الذكاء الاصطناعي ، جامعة الملك سعود.
        </div>
      </div>
    </footer>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-analytics.js";
      import {
        getFirestore,
        collection,
        getDocs,
      } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDdpvJecXEMPBJ_G1-Q2LnyPWuF7-tVVYU",
        authDomain: "beyond-ai-95083.firebaseapp.com",
        projectId: "beyond-ai-95083",
        storageBucket: "beyond-ai-95083.firebasestorage.app",
        messagingSenderId: "419351047742",
        appId: "1:419351047742:web:b6570c37cfcbada461ab6f",
        measurementId: "G-VLFGTLL7E5",
      };

      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const db = getFirestore(app);
      window.db = db;
      window.getDocs = getDocs;
      window.collection = collection;
    </script>

    <script>
      (function () {
        const searchForm = document.getElementById("searchForm");
        const searchInput = document.getElementById("searchInput");

        const majorsMapping = {
          الطب: "medicine",
          طب: "medicine",
          medicine: "medicine",
          "إدارة الأعمال": "business_administration",
          إدارة: "business_administration",
          أعمال: "business_administration",
          business: "business_administration",
          "العمارة والتخطيط": "architecture",
          العمارة: "architecture",
          تخطيط: "architecture",
          architecture: "architecture",
          "تقنية المعلومات": "computer_science",
          تقنية: "computer_science",
          معلومات: "computer_science",
          it: "computer_science",
          الصيدلة: "pharmacy",
          صيدلة: "pharmacy",
          pharmacy: "pharmacy",
          القانون: "law",
          قانون: "law",
          law: "law",
          الإعلام: "media",
          إعلام: "media",
          media: "media",
        };

        const pageMapping = {
          "index.html": ["الصفحة الرئيسية", "الرئيسية", "home"],
          "WeeklyParagraphs.html": [
            "الفقرات الأسبوعية",
            "فقرات",
            "أسبوعية",
            "weekly",
            "في دقيقة",
            "دقيقة",
            "minute",
            "أخبار الذكاء الاصطناعي",
            "أخبار",
            "news",
            "الذكاء الاصطناعي والتخصصات",
            "تخصصات",
            "مصطلحات",
            "terminology",
            "تخيل لو",
            "imagine",
          ],
          "Who_We_Are.html": ["من نحن", "about", "مبادرة", "مركز"],
        };

        if (searchForm) {
          searchForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const query = searchInput.value.trim().toLowerCase();

            if (!query) {
              alert("الرجاء إدخال كلمة البحث");
              return;
            }

            const majorKey = majorsMapping[query];
            if (majorKey) {
              const button = document.querySelector(
                `[data-specialty="${majorKey}"]`
              );
              if (button) {
                button.click();
                searchInput.value = "";
                return;
              }
            }

            if (query.includes("تواصل") || query.includes("contact")) {
              document
                .querySelector(".footer")
                .scrollIntoView({ behavior: "smooth" });
              searchInput.value = "";
              return;
            }

            for (const [page, keywords] of Object.entries(pageMapping)) {
              if (
                keywords.some(
                  (k) =>
                    k.toLowerCase().includes(query) ||
                    query.includes(k.toLowerCase())
                )
              ) {
                window.location.href = page;
                return;
              }
            }

            alert("لم يتم العثور على نتائج للبحث: " + query);
          });
        }
      })();

      document.addEventListener("DOMContentLoaded", function () {
        const pills = document.querySelectorAll(".pill");
        const grid = document.querySelector(".grid");
        const loader = document.getElementById("loading");

        let allLibraries = [];

        async function fetchLibraries() {
          try {
            loader.style.display = "block";
            grid.style.opacity = "0.3";

            const querySnapshot = await getDocs(
              collection(window.db, "libraries")
            );
            allLibraries = querySnapshot.docs.map((doc) => doc.data());
          } catch (err) {
            console.error("Error fetching libraries:", err);
            grid.innerHTML =
              '<article class="card"><div class="soon">تعذر تحميل الأدوات، حاول لاحقًا.</div></article>';
          } finally {
            loader.style.display = "none";
            grid.style.opacity = "1";
          }
        }

        function escapeHtml(str = "") {
          return String(str)
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#39;");
        }

        function renderLibraries(specialty) {
          grid.classList.add("fading");

          setTimeout(() => {
            grid.innerHTML = "";

            const group = allLibraries.find((g) => g.specialty === specialty);
            const libs =
              group && Array.isArray(group.libraries) ? group.libraries : [];

            if (!libs.length) {
              grid.innerHTML =
                '<article class="card"><div class="soon">لا توجد أدوات لهذا التخصص</div></article>';
            } else {
              libs.forEach((item) => {
                const card = document.createElement("article");
                card.className = "card";

                const name = escapeHtml(item.name || "");
                const description = escapeHtml(item.description || "");
                const url = item.url || "#";
                const logo = item.logo || "";

                card.innerHTML = `
                  <div class="card-content">
                    <div class="top-section">
                      <img src="aitoolslogo/${logo}" alt="${name}" class="tool-logo"
                           onerror="this.onerror=null; this.src='images/logo.png';" />
                      <div class="divider"></div>
                    </div>
                    <div class="middle-section">
                      ${
                        description
                          ? `<div class="description">${description}</div>`
                          : ""
                      }
                    </div>
                    <div class="bottom-section">
                      ${
                        url !== "#"
                          ? `<a class="card-link" href="${url}" target="_blank" rel="noopener">اطلع على المقطع التعريفي للأداة</a>`
                          : ""
                      }
                    </div>
                  </div>
                  <div class="card__bar"><span>${name}</span></div>
                `;
                grid.appendChild(card);
              });
            }

            requestAnimationFrame(() => {
              grid.classList.remove("fading");
            });
          }, 100);
        }

        function setActive(specialty) {
          pills.forEach((p) => p.classList.remove("active"));
          const btn = document.querySelector(`[data-specialty="${specialty}"]`);
          if (btn) btn.classList.add("active");
          renderLibraries(specialty);
        }

        pills.forEach((p) => {
          p.addEventListener("click", () => {
            const specialty = p.getAttribute("data-specialty");
            setActive(specialty);
          });
        });

        (async () => {
          await fetchLibraries();
          const selectedMajor = sessionStorage.getItem("selectedMajor");
          if (
            selectedMajor &&
            document.querySelector(`[data-specialty="${selectedMajor}"]`)
          ) {
            setActive(selectedMajor);
            sessionStorage.removeItem("selectedMajor");
          } else {
            setActive("medicine");
          }
        })();
      });
    </script>
  </body>
</html>
