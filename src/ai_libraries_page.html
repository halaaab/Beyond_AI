<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>مكتبة أدوات الذكاء الاصطناعي</title>
    <link rel="icon" type="image/png" href="images/markblue.png" />
    <link rel="apple-touch-icon" href="images/markblue.png" />
    <link rel="shortcut icon" href="images/markblue.png" />
    <style>
      @font-face {
        font-family: "Lyon Arabic";
        src: url("Fonts/Font_Regular.otf") format("opentype");
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: "Lyon Arabic";
        src: url("Fonts/Font_Bold.otf") format("opentype");
        font-weight: 700;
        font-style: normal;
        font-display: swap;
      }

      html,
      body {
        font-family: "Lyon Arabic";
      }
      button,
      input,
      select,
      textarea {
        font-family: inherit;
      }

      :root {
        --midnight: #02144d;
        --vivid: #3a6ebf;
        --royal: #162f7a;
        --line: rgba(22, 47, 122, 0.22);
      }

      html,
      body {
        min-height: 100%;
      }
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        color: var(--midnight);
        line-height: 1.6;
        letter-spacing: 0.1px;

        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: scroll;
        background-color: #fff;
        background-image: url("images/background.png");
        background-position: center bottom;
        background-repeat: no-repeat;
        background-size: cover;
        background-attachment: local;
      }

      .wrap {
        max-width: 1200px;
        margin-inline: auto;
        padding-inline: 20px;
      }

      /* the header */
      .topbar {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: #fff;
      }
      .topbar .wrap {
        padding-inline-start: 6px;
        padding-inline-end: 20px;
      }
      .topbar-row {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 6px 0 8px;
        justify-content: space-between;
        flex-wrap: nowrap;
      }
      .nav {
        display: flex;
        align-items: center;
        gap: 15px !important;
        flex-wrap: nowrap;
        white-space: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        flex: 0 1 auto;
        margin-inline-start: -18px;
      }
      .nav::-webkit-scrollbar {
        display: none;
      }
      .nav a {
        display: inline-block;
        padding: 6px 10px;
        border-radius: 12px;
        text-decoration: none;
        color: var(--midnight);
        font-size: 14px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      .nav a::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(22, 47, 122, 0.08);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
        border-radius: 12px;
        z-index: -1;
      }
      .nav a:hover::before {
        transform: scaleX(1);
      }
      .nav a:hover {
        transform: translateY(-1px);
        color: var(--royal);
      }
      .nav a.active {
        color: #fff;
        background: linear-gradient(90deg, var(--vivid), var(--royal));
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(22, 47, 122, 0.25);
        min-width: auto;
        height: 40px;
        line-height: 40px;
        padding: 0 18px;
        border-radius: 50px;
      }
      .nav a.active::before {
        display: none;
      }

      .search button {
        position: absolute;
        inset-inline-end: 8px;
        top: 50%;
        transform: translateY(-50%);
        width: 26px;
        height: 26px;
        border: none;
        background: transparent;
        display: grid;
        place-items: center;
        padding: 0;
        cursor: pointer;
        overflow: hidden;
      }

      .search button img {
        width: 12px;
        height: 12px;
        display: block;
        object-fit: contain;
        pointer-events: none;
      }

      .search {
        position: relative;
        width: 220px;
        max-width: 24vw;
        min-width: 160px;
        flex: 0 0 auto;
        margin: 0;
        margin-inline-end: -18px;
        transform: translateX(-27px);
      }
      .search input {
        width: 100%;
        height: 34px;
        padding-block: 8px;
        padding-inline-start: 12px;
        padding-inline-end: 38px;
        border-radius: 999px;
        border: 1px solid rgba(2, 20, 77, 0.18);
        outline: none;
        background: #fff;
        font-size: 12.5px;
        box-shadow: 0 1px 4px rgba(2, 20, 77, 0.05);
        transition: all 0.3s ease;
      }

      .search input:hover {
        border-color: var(--royal);
        box-shadow: 0 2px 8px rgba(2, 20, 77, 0.12);
        transform: translateY(-1px);
      }
      .search input:focus {
        border-color: var(--vivid);
        box-shadow: 0 0 0 3px rgba(58, 110, 191, 0.15),
          0 2px 8px rgba(2, 20, 77, 0.12);
        transform: translateY(-1px);
      }

      .brand {
        flex: 0 0 auto;
        margin-inline-end: -28px;
      }
      .brand .logo {
        height: 108px;
        width: auto;
        display: block;
        direction: ltr;
        filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.06));
      }

      /* end of the header */

      h1 {
        margin: 24px 0 18px;
        text-align: center;
        font-size: 32px;
        font-weight: 700;
      }

      .heading-line {
        height: 1px;
        width: 100%;
        background: var(--line);
        box-shadow: 0 0.5px 0 rgba(22, 47, 122, 0.06) inset;
        margin: 35px 0 28px !important;
      }

      .filters {
        display: flex !important;
        flex-direction: row-reverse;
        justify-content: space-between;
        align-items: center;
        gap: 10px !important;
        width: 100%;
        padding: 8px 0 16px !important;
        direction: ltr;
        margin: 0 0 60px !important;
      }

      .pill {
        font-family: "Lyon Arabic";
        font-weight: 400 !important;
        font-size: 17px !important;
        min-width: 118px !important;
        height: 35px !important;
        line-height: 35px !important;
        padding: 0 21px !important;
        border: 1px solid var(--royal) !important;
        border-radius: 20px !important;
        background: transparent !important;
        color: var(--midnight) !important;
        letter-spacing: 0 !important;
        cursor: pointer;
        transition: all 0.3s ease !important;
        position: relative;
        overflow: hidden;
      }
      .pill::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(22, 47, 122, 0.06);
        transform: scale(0);
        transition: transform 0.3s ease;
        border-radius: 20px;
        z-index: -1;
      }
      .pill:hover::before {
        transform: scale(1);
      }
      .pill:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 4px 12px rgba(22, 47, 122, 0.15) !important;
        border-color: var(--vivid) !important;
      }
      .pill.active {
        color: #fff !important;
        border-color: transparent !important;
        background: linear-gradient(
          90deg,
          var(--royal),
          var(--vivid)
        ) !important;
        transform: translateY(-2px) !important;
        box-shadow: 0 6px 16px rgba(22, 47, 122, 0.25) !important;
      }
      .pill.active::before {
        display: none;
      }

      @media (max-width: 1020px) {
        .filters {
          flex-wrap: wrap !important;
          justify-content: center !important;
          gap: 12px !important;
        }
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 28px;
        margin-top: 20px;
        margin-bottom: 160px;
      }

      .card {
        position: relative;
        background: #fff;
        border: 1px solid rgba(2, 20, 77, 0.12);
        border-radius: 16px;
        padding: 20px 22px 70px;
        box-shadow: 0 3px 10px rgba(2, 20, 77, 0.05);
        transition: transform 0.2s ease, box-shadow 0.2s ease,
          border-color 0.2s ease;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }

      .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 18px rgba(2, 20, 77, 0.12);
        border-color: rgba(2, 20, 77, 0.22);
      }

      /* tool name */
      .card .name {
        font-size: 18px;
        font-weight: 700;
        color: var(--royal);
        margin-bottom: 6px;
      }

      /* tool title / subtitle */
      .card .title {
        font-size: 15px;
        font-weight: 500;
        color: var(--vivid);
        margin-bottom: 10px;
        line-height: 1.5;
      }

      /* tool description */
      .card .description {
        font-size: 14px;
        color: rgba(2, 20, 77, 0.9);
        line-height: 1.7;
        flex: 1;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 5;
        -webkit-box-orient: vertical;
      }

      /* link button */
      .card a {
        position: absolute;
        bottom: 16px;
        left: 18px;
        right: 18px;
        display: block;
        text-align: center;
        font-size: 14px;
        font-weight: 600;
        color: #fff;
        text-decoration: none;
        background: linear-gradient(90deg, var(--vivid), var(--royal));
        border-radius: 14px;
        padding: 9px 0;
        transition: opacity 0.25s ease, transform 0.25s ease;
      }
      .card a:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      /* the footer */
      .footer {
        margin-top: 44px;
      }
      .footer .wrap {
        max-width: 100% !important;
        padding-inline: 0 !important;
      }

      .foot {
        display: grid;
        grid-template-columns: 1fr auto;
        grid-template-areas: "left right";
        align-items: center;
        gap: 8px 12px;
        min-height: 64px;
        padding-inline: 12px;
        direction: ltr;
        font-size: 13px;
        padding-block: 10px 16px;
      }

      .foot-left {
        grid-area: left;
        justify-self: start;
        text-align: left;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .social-icons {
        display: flex;
        align-items: center;
        gap: 4px;
        white-space: nowrap;
      }

      .icon {
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background: transparent;
        border: 1.5px solid rgba(2, 20, 77, 0.35);
        display: grid;
        place-items: center;
        transition: all 0.2s ease;
        cursor: pointer;
      }
      .icon:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(2, 20, 77, 0.15);
        border-color: var(--royal);
      }
      .icon img {
        width: 14px;
        height: 14px;
        display: block;
      }

      .handle {
        margin-inline-start: 8px;
        opacity: 0.9;
        font-size: 12.5px;
        font-weight: 400;
      }

      .email-line {
        display: flex;
        align-items: center;
        gap: 8px;
        opacity: 0.9;
        font-size: 13px;
      }
      .email-line .icon {
        width: 24px;
        height: 24px;
      }

      .foot-right {
        grid-area: right;
        justify-self: end;
        direction: rtl;
        text-align: right;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 50vw;
        font-size: 13px;
        font-weight: 400;
      }
      .foot-right [dir="ltr"] {
        unicode-bidi: isolate-override;
        display: inline-block;
        margin-inline-start: 4px;
        font-weight: 400;
      }

      @media (max-width: 700px) {
        .foot {
          grid-template-columns: 1fr;
          grid-template-areas: "right" "left";
          gap: 15px;
          padding-inline: 8px;
        }
        .foot-right {
          justify-self: center;
          max-width: 100%;
          text-align: center;
        }
        .foot-left {
          justify-self: center;
          align-items: center;
        }
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* end of the footer */
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        let allLibraries = [];

        async function fetchLibraries() {
          const loader = document.getElementById("loading");
          const grid = document.querySelector(".grid");
          loader.style.display = "block";
          grid.style.opacity = "0.3";

          try {
            const API_URL = "http://localhost:3000/api/libraries";
            const res = await fetch(API_URL);
            allLibraries = await res.json();
            renderLibraries("medicine");
          } catch (err) {
            console.error("Error fetching libraries:", err);
          } finally {
            loader.style.display = "none";
            grid.style.opacity = "1";
          }
        }

        function renderLibraries(filter) {
          const grid = document.querySelector(".grid");
          grid.innerHTML = "";

          // find the document matching the specialty
          const group = allLibraries.find((g) => g.specialty === filter);
          const libs =
            group && Array.isArray(group.libraries) ? group.libraries : [];

          libs.forEach((item) => {
            const card = document.createElement("article");
            card.className = "card";
            card.innerHTML = `
  <div class="name">${item.name}</div>
  <div class="title">${item.title || ""}</div>
  <div class="description">${item.description}</div>
  <a href="${item.url}" target="_blank" rel="noopener">رابط الأداة</a>
`;

            grid.appendChild(card);
          });

          if (!libs.length) {
            grid.innerHTML = `<article class="card"><div class="soon">لا توجد أدوات لهذا التخصص</div></article>`;
          }
        }

        const map = {
          الطب: "medicine",
          "إدارة الأعمال": "business_administration",
          "العمارة والتخطيط": "architecture",
          "تقنية المعلومات": "computer_science",
          الصيدلة: "pharmacy",
          القانون: "law",
          الإعلام: "media",
        };

        document.querySelectorAll(".pill").forEach((btn) => {
          btn.addEventListener("click", () => {
            document
              .querySelectorAll(".pill")
              .forEach((x) => x.classList.remove("active"));
            btn.classList.add("active");
            const specialty = map[btn.textContent.trim()] || "medicine";
            renderLibraries(specialty);
          });
        });

        fetchLibraries();
      });
    </script>
  </head>

  <body>
    <header class="topbar">
      <div class="wrap topbar-row">
        <nav class="nav">
          <a href="homepage.html">الصفحة الرئيسية</a>
          <a href="WeeklyParagraphs.html">الفقرات الأسبوعية</a>
          <a href="#">القائمة القادمة</a>
          <a href="#" class="active">مكتبة أدوات الذكاء الاصطناعي</a>
          <a href="#">من نحن</a>
          <a href="#">تواصل معنا</a>
        </nav>

        <form
          class="search"
          role="search"
          aria-label="بحث"
          onsubmit="event.preventDefault()"
        >
          <input type="search" placeholder="عن ماذا تبحث؟" />
          <button type="submit" aria-label="ابحث">
            <img src="images/search.png" alt="بحث" />
          </button>
        </form>

        <div class="brand">
          <img src="images/logo.svg" alt="الشعار" class="logo" />
        </div>
      </div>
    </header>

    <main class="wrap">
      <h1>مكتبة أدوات الذكاء الاصطناعي</h1>
      <div class="heading-line"></div>

      <div class="filters" role="tablist" aria-label="فلاتر الأقسام">
        <button class="pill active" role="tab">الطب</button>
        <button class="pill" role="tab">إدارة الأعمال</button>
        <button class="pill" role="tab">العمارة والتخطيط</button>
        <button class="pill" role="tab">تقنية المعلومات</button>
        <button class="pill" role="tab">الصيدلة</button>
        <button class="pill" role="tab">القانون</button>
        <button class="pill" role="tab">الإعلام</button>
      </div>

      <div
        id="loading"
        style="text-align: center; margin: 60px 0; display: none"
      >
        <div style="font-size: 16px; color: var(--royal); font-weight: 600">
          جاري التحميل...
        </div>
        <div
          class="spinner"
          style="
            margin: 16px auto;
            width: 38px;
            height: 38px;
            border: 4px solid rgba(22, 47, 122, 0.2);
            border-top-color: var(--royal);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
          "
        ></div>
      </div>

      <section class="grid" aria-live="polite"></section>
    </main>

    <footer class="footer">
      <div class="wrap foot">
        <div class="foot-left">
          <div class="social-icons">
            <span class="icon" title="LinkedIn" aria-label="LinkedIn">
              <a href="https://www.linkedin.com/showcase/thakaabeyond/"
                ><img src="images/liked-in.png" alt="LinkedIn"
              /></a>
            </span>
            <span class="icon" title="X (Twitter)" aria-label="X">
              <a
                href="https://x.com/thakaa_beyond?s=21&t=vdTFnpnktDr0FShuBiqZ_g"
                ><img src="images/twitter.png" alt="X"
              /></a>
            </span>
            <span class="icon" title="TikTok" aria-label="TikTok">
              <a
                href="https://www.tiktok.com/@thakaa_beyond?_t=zs-8zjfwuzngmz&_r=1"
                ><img src="images/tik-tok.png" alt="TikTok"
              /></a>
            </span>
            <span class="handle">@BeyondAI</span>
          </div>
          <div class="email-line">
            <span class="icon" title="Email" aria-label="Email">
              <a href="mailto:BeyondAI@gmail.com" dir="ltr"
                ><img src="images/email.png" alt="Email"
              /></a>
            </span>
            <span>BeyondAI@gmail.com</span>
          </div>
        </div>

        <div class="foot-right" dir="rtl">
          <span>مساحة تجمع المعرفة التخصصية والذكاء الاصطناعي</span>
          <span class="sep" aria-hidden="true"> – </span>
          <span class="brand-en" dir="ltr">Beyond AI</span>
        </div>
      </div>
    </footer>
  </body>
</html>
